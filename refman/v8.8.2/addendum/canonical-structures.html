

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ja" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>正準構造 &mdash; Coq 8.8.2 ドキュメント</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/notations.js"></script>
        <script src="../_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
  <link rel="stylesheet" href="../_static/ansi.css" type="text/css" />
  <link rel="stylesheet" href="../_static/coqdoc.css" type="text/css" />
  <link rel="stylesheet" href="../_static/notations.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pre-text.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="型クラス" href="type-classes.html" />
    <link rel="prev" title="Implicit Coercions" href="implicit-coercions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Coq
          

          
          </a>

          
            
            
              <div class="version">
                8.8.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">索引</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-cmdindex.html">Command index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-tacindex.html">Tactic index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-optindex.html">Flags, options and tables index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-exnindex.html">Errors and warnings index</a></li>
</ul>
<p class="caption"><span class="caption-text">はじめに</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">はじめに</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
</ul>
<p class="caption"><span class="caption-text">言語</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/gallina-specification-language.html">仕様記述言語 Gallina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/gallina-extensions.html"><span class="smallcaps">Gallina</span> の拡張</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/coq-library.html">The <span class="smallcaps">Coq</span> library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/cic.html">Calculus of Inductive Constructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/module-system.html">The Module System</a></li>
</ul>
<p class="caption"><span class="caption-text">証明エンジン</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/vernacular-commands.html">Vernacular commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/proof-handling.html">Proof handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/tactics.html">Tactics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/ltac.html">The tactic language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/detailed-tactic-examples.html">Detailed examples of tactics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html">The <span class="smallcaps">SSReflect</span> proof language</a></li>
</ul>
<p class="caption"><span class="caption-text">ユーザ拡張</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-extensions/syntax-extensions.html">Syntax extensions and interpretation scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-extensions/proof-schemes.html">Proof schemes</a></li>
</ul>
<p class="caption"><span class="caption-text">実用ツール</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/coq-commands.html">The <span class="smallcaps">Coq</span> commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/coqide.html"><span class="smallcaps">Coq</span> Integrated Development Environment</a></li>
</ul>
<p class="caption"><span class="caption-text">付録</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="extended-pattern-matching.html">Extended pattern matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="implicit-coercions.html">Implicit Coercions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">正準構造</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#notation-overloading">表記法オーバーローディング</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#derived-canonical-structures">派生した正準構造</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hierarchy-of-structures">構造の階層</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compact-declaration-of-canonical-structures">正準構造のコンパクトな定義</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="type-classes.html">型クラス</a></li>
<li class="toctree-l1"><a class="reference internal" href="omega.html">Omega: a solver for quantifier-free problems in Presburger Arithmetic</a></li>
<li class="toctree-l1"><a class="reference internal" href="micromega.html">Micromega: tactics for solving arithmetic goals over ordered rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="extraction.html">Extraction of programs in <span class="smallcaps">OCaml</span> and Haskell</a></li>
<li class="toctree-l1"><a class="reference internal" href="program.html">Program</a></li>
<li class="toctree-l1"><a class="reference internal" href="ring.html">The ring and field tactic families</a></li>
<li class="toctree-l1"><a class="reference internal" href="nsatz.html">Nsatz: tactics for proving equalities in integral domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="generalized-rewriting.html">Generalized rewriting</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel-proof-processing.html">Asynchronous and Parallel Proof Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous-extensions.html">Miscellaneous extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="universe-polymorphism.html">Polymorphic Universes</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../zebibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Coq</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>正準構造</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/coq/coq/blob/master/doc/sphinx/addendum/canonical-structures.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="math-preamble math notranslate nohighlight">
\[\begin{split}\newcommand{\alors}{\textsf{then}}
\newcommand{\alter}{\textsf{alter}}
\newcommand{\as}{\kw{as}}
\newcommand{\Assum}[3]{\kw{Assum}(#1)(#2:#3)}
\newcommand{\bool}{\textsf{bool}}
\newcommand{\case}{\kw{case}}
\newcommand{\conc}{\textsf{conc}}
\newcommand{\cons}{\textsf{cons}}
\newcommand{\consf}{\textsf{consf}}
\newcommand{\conshl}{\textsf{cons\_hl}}
\newcommand{\Def}[4]{\kw{Def}(#1)(#2:=#3:#4)}
\newcommand{\emptyf}{\textsf{emptyf}}
\newcommand{\End}{\kw{End}}
\newcommand{\kwend}{\kw{end}}
\newcommand{\EqSt}{\textsf{EqSt}}
\newcommand{\even}{\textsf{even}}
\newcommand{\evenO}{\textsf{even}_\textsf{O}}
\newcommand{\evenS}{\textsf{even}_\textsf{S}}
\newcommand{\false}{\textsf{false}}
\newcommand{\filter}{\textsf{filter}}
\newcommand{\Fix}{\kw{Fix}}
\newcommand{\fix}{\kw{fix}}
\newcommand{\for}{\textsf{for}}
\newcommand{\forest}{\textsf{forest}}
\newcommand{\from}{\textsf{from}}
\newcommand{\Functor}{\kw{Functor}}
\newcommand{\haslength}{\textsf{has\_length}}
\newcommand{\hd}{\textsf{hd}}
\newcommand{\ident}{\textsf{ident}}
\newcommand{\In}{\kw{in}}
\newcommand{\Ind}[4]{\kw{Ind}[#2](#3:=#4)}
\newcommand{\ind}[3]{\kw{Ind}~[#1]\left(#2\mathrm{~:=~}#3\right)}
\newcommand{\Indp}[5]{\kw{Ind}_{#5}(#1)[#2](#3:=#4)}
\newcommand{\Indpstr}[6]{\kw{Ind}_{#5}(#1)[#2](#3:=#4)/{#6}}
\newcommand{\injective}{\kw{injective}}
\newcommand{\kw}[1]{\textsf{#1}}
\newcommand{\lb}{\lambda}
\newcommand{\length}{\textsf{length}}
\newcommand{\letin}[3]{\kw{let}~#1:=#2~\kw{in}~#3}
\newcommand{\List}{\textsf{list}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\Match}{\kw{match}}
\newcommand{\Mod}[3]{{\kw{Mod}}({#1}:{#2}\,\zeroone{:={#3}})}
\newcommand{\ModA}[2]{{\kw{ModA}}({#1}=={#2})}
\newcommand{\ModS}[2]{{\kw{Mod}}({#1}:{#2})}
\newcommand{\ModType}[2]{{\kw{ModType}}({#1}:={#2})}
\newcommand{\mto}{.\;}
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\nat}{\textsf{nat}}
\newcommand{\Nil}{\textsf{nil}}
\newcommand{\nilhl}{\textsf{nil\_hl}}
\newcommand{\nO}{\textsf{O}}
\newcommand{\node}{\textsf{node}}
\newcommand{\nS}{\textsf{S}}
\newcommand{\odd}{\textsf{odd}}
\newcommand{\oddS}{\textsf{odd}_\textsf{S}}
\newcommand{\ovl}[1]{\overline{#1}}
\newcommand{\Pair}{\textsf{pair}}
\newcommand{\Prod}{\textsf{prod}}
\newcommand{\Prop}{\textsf{Prop}}
\newcommand{\return}{\kw{return}}
\newcommand{\Set}{\textsf{Set}}
\newcommand{\si}{\textsf{if}}
\newcommand{\sinon}{\textsf{else}}
\newcommand{\Sort}{\cal S}
\newcommand{\Str}{\textsf{Stream}}
\newcommand{\Struct}{\kw{Struct}}
\newcommand{\subst}[3]{#1\{#2/#3\}}
\newcommand{\tl}{\textsf{tl}}
\newcommand{\tree}{\textsf{tree}}
\newcommand{\true}{\textsf{true}}
\newcommand{\Type}{\textsf{Type}}
\newcommand{\unfold}{\textsf{unfold}}
\newcommand{\WEV}[3]{\mbox{$#1[] \vdash #2 \lra  #3$}}
\newcommand{\WEVT}[3]{\mbox{$#1[] \vdash #2 \lra$}\\ \mbox{$ #3$}}
\newcommand{\WF}[2]{{\cal W\!F}(#1)[#2]}
\newcommand{\WFE}[1]{\WF{E}{#1}}
\newcommand{\WFT}[2]{#1[] \vdash {\cal W\!F}(#2)}
\newcommand{\WFTWOLINES}[2]{{\cal W\!F}\begin{array}{l}(#1)\\\mbox{}[{#2}]\end{array}}
\newcommand{\with}{\kw{with}}
\newcommand{\WS}[3]{#1[] \vdash #2 &lt;: #3}
\newcommand{\WSE}[2]{\WS{E}{#1}{#2}}
\newcommand{\WT}[4]{#1[#2] \vdash #3 : #4}
\newcommand{\WTE}[3]{\WT{E}{#1}{#2}{#3}}
\newcommand{\WTEG}[2]{\WTE{\Gamma}{#1}{#2}}
\newcommand{\WTM}[3]{\WT{#1}{}{#2}{#3}}
\newcommand{\zeroone}[1]{[{#1}]}
\newcommand{\zeros}{\textsf{zeros}}
\end{split}\]</div>
<div class="section" id="canonical-structures">
<span id="canonicalstructures"></span><h1>正準構造<a class="headerlink" href="#canonical-structures" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">著者</dt>
<dd class="field-odd"><p>Assia Mahboubi and Enrico Tassi</p>
</dd>
</dl>
<p>この章では正準構造の基本とそれらが記法のオーバーロードや代数構造の階層の構築にどのように使えるかを説明します。例は <a class="bibtex reference internal" href="../zebibliography.html#cswcu" id="id1">[MT13]</a> から抜粋しています。簡潔さのためにここでは省略した全ての詳細について興味のある読者にはこの論文を参照することを勧めます。興味のある読者は <a class="bibtex reference internal" href="../zebibliography.html#cslessadhoc" id="id2">[GZND11]</a> にも別の、相補的な、正準構造の使用: 高度な証明探索 についての詳細な説明を発見するでしょう。後者の論文は正準構造の推論を調整するために用いることが出来るたくさんのテクニックも述べています。</p>
<div class="section" id="notation-overloading">
<h2>表記法オーバーローディング<a class="headerlink" href="#notation-overloading" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>比較述語のための中置記法 == を構築します。そのような記法はオーバーロードされ、その意味は比較される項の型に依存することになるでしょう。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Module</span><span> </span><span class="coqdoc-var">EQ</span><span>.</span></dt><dd><span>Interactive Module EQ started</span></dd>
<dt><span class="coqdoc-keyword">Record</span><span> </span><span class="coqdoc-var">class</span><span> (</span><span class="coqdoc-var">T</span><span> : </span><span class="coqdoc-keyword">Type</span><span>) := </span><span class="coqdoc-keyword">Class</span><span> { </span><span class="coqdoc-var">cmp</span><span> : </span><span class="coqdoc-var">T</span><span> -&gt; </span><span class="coqdoc-var">T</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span> }.</span></dt><dd><span>class is defined
cmp is defined</span></dd>
<dt><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-keyword">type</span><span> := </span><span class="coqdoc-var">Pack</span><span> { </span><span class="coqdoc-var">obj</span><span> : </span><span class="coqdoc-keyword">Type</span><span>; </span><span class="coqdoc-var">class_of</span><span> : </span><span class="coqdoc-var">class</span><span> </span><span class="coqdoc-var">obj</span><span> }.</span></dt><dd><span>type is defined
obj is defined
class_of is defined</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">op</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-keyword">type</span><span>) : </span><span class="coqdoc-var">obj</span><span> </span><span class="coqdoc-var">e</span><span> -&gt; </span><span class="coqdoc-var">obj</span><span> </span><span class="coqdoc-var">e</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span> :=</span><span>
    </span><span class="coqdoc-keyword">let</span><span> '</span><span class="coqdoc-var">Pack</span><span> </span><span class="coqdoc-var">_</span><span> (</span><span class="coqdoc-keyword">Class</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">the_cmp</span><span>) := </span><span class="coqdoc-var">e</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">the_cmp</span><span>.</span></dt><dd><span>op is defined</span></dd>
<dt><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">op</span><span>.</span></dt><dd><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">op</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
     : </span><span class="ansi-fg-default ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">forall</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> e : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">, </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">Arguments</span><span> </span><span class="coqdoc-var">op</span><span> {</span><span class="coqdoc-var">e</span><span>} </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-tactic">simpl</span><span> </span><span class="coqdoc-var">never</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-var">Arguments</span><span> </span><span class="coqdoc-keyword">Class</span><span> {</span><span class="coqdoc-var">T</span><span>} </span><span class="coqdoc-var">cmp</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Module</span><span> </span><span class="coqdoc-var">theory</span><span>.</span></dt><dd><span>Interactive Module theory started</span></dd>
<dt><span class="coqdoc-keyword">Notation</span><span> &quot;x == y&quot; := (</span><span class="coqdoc-var">op</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70).</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">End</span><span> </span><span class="coqdoc-var">theory</span><span>.</span></dt><dd><span>Module theory is defined</span></dd>
<dt><span class="coqdoc-keyword">End</span><span> </span><span class="coqdoc-var">EQ</span><span>.</span></dt><dd><span>Module EQ is defined</span></dd>
</dl>
</div>
<p>Coq のモジュールを名前空間として使います。これによってこの章のこれ以降では同じパターンと命名規則に従うことが出来ます。この基本名前空間は代数構造の定義を含んでいます。例を小さく保つため、我々が定義する代数構造 <code class="docutils literal notranslate"><span class="pre">EQ.type</span></code> は非常に単純でかつ、ある定義された二項関係上で項を特徴づけ、そのような関係に要求されるどんな性質の正当性の立証もありません。内部のtheoryモジュールはオーバーロードされた記法 <code class="docutils literal notranslate"><span class="pre">==</span></code> を含み、その代数構造の全てのインスタンスを保持する補題をも含みます (この場合は補題はありません)。</p>
<p>留意すべきは、実際にはユーザは <code class="docutils literal notranslate"><span class="pre">EQ.obj</span></code> をコアーションとして定義したいかもしれませんが、ここではそれは行いません。</p>
<p>以下の行では EQ クラス内の型 <code class="docutils literal notranslate"><span class="pre">e</span></code> を仮定したとき、<code class="docutils literal notranslate"><span class="pre">==</span></code> によってそのオブジェクト二つを関連付けることが出来ることをテストしています。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">EQ.theory</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">forall</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-var">EQ.type</span><span>) (</span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">b</span><span> : </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e</span><span>), </span><span class="coqdoc-var">a</span><span> == </span><span class="coqdoc-var">b</span><span>.</span></dt><dd><span class="ansi-fg-default ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">forall</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (e : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">) (a b : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">), </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">a</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">b</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
     : </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
</dl>
</div>
<p>まだ <code class="docutils literal notranslate"><span class="pre">EQ</span></code> クラスの中には具体的な型はありません。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Check</span><span> 3 == 3.</span></dt><dd><span>The command has indeed failed with message:
The term &quot;3&quot; has type &quot;</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; while it is expected to have type &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot;.</span></dd>
</dl>
</div>
<p>これを <code class="docutils literal notranslate"><span class="pre">nat</span></code> に比較関係を授けることで修正します。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">nat_eq</span><span> (</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-var">nat</span><span>) := </span><span class="coqdoc-var">Nat.compare</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> = </span><span class="coqdoc-var">Eq</span><span>.</span></dt><dd><span>nat_eq is defined</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">nat_EQcl</span><span> : </span><span class="coqdoc-var">EQ.class</span><span> </span><span class="coqdoc-var">nat</span><span> := </span><span class="coqdoc-var">EQ.Class</span><span> </span><span class="coqdoc-var">nat_eq</span><span>.</span></dt><dd><span>nat_EQcl is defined</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">nat_EQty</span><span> : </span><span class="coqdoc-var">EQ.type</span><span> := </span><span class="coqdoc-var">EQ.Pack</span><span> </span><span class="coqdoc-var">nat</span><span> </span><span class="coqdoc-var">nat_EQcl</span><span>.</span></dt><dd><span>nat_EQty is defined</span></dd>
<dt><span class="coqdoc-keyword">Check</span><span> 3 == 3.</span></dt><dd><span>3</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 3
     : </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-keyword">Eval</span><span> </span><span class="coqdoc-tactic">compute</span><span> </span><span class="coqdoc-tactic">in</span><span> 3 == 4.</span></dt><dd><span>     = </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">Lt</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> =</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">Eq</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
     : </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
</dl>
</div>
<p>この最後のテストは <span class="smallcaps">Coq</span> がもはや <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">==</span> <span class="pre">3</span></code> の型検査が出来るだけでなく、中置関係が <code class="docutils literal notranslate"><span class="pre">nat_eq</span></code> 関係に束縛されたことを示しています。この関係は <code class="docutils literal notranslate"><span class="pre">==</span></code> が nat 型の項の上で使われるときはいつでも選択されます。これは正準構造 <code class="docutils literal notranslate"><span class="pre">nat_EQty</span></code> を定義した行の中で読み取ることが出来、ここで <code class="docutils literal notranslate"><span class="pre">Pack</span></code> の最初の引数がキーであり、二番目の引数がそのキーに関連付けられた正準値のグループです。この場合は nat に高々一つの正準値を関連付けました (そのクラスについても、<code class="docutils literal notranslate"><span class="pre">nat_EQcl</span></code> はただ一つのメンバを持っています)。射影 <code class="docutils literal notranslate"><span class="pre">op</span></code> の使用はその引数が <code class="docutils literal notranslate"><span class="pre">EQ</span></code> クラスに属していることを要求し、そのようなメンバ (関数) を実際にその引数を比較するために使います。</p>
<p>同様に、他のどんな型でも比較関係を整えて、そしてこの型の項の上で <code class="docutils literal notranslate"><span class="pre">==</span></code> 記法を使うことが出来ます。</p>
<div class="section" id="derived-canonical-structures">
<h3>派生した正準構造<a class="headerlink" href="#derived-canonical-structures" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>私たちは <code class="docutils literal notranslate"><span class="pre">nat</span></code>、<code class="docutils literal notranslate"><span class="pre">bool</span></code>、<code class="docutils literal notranslate"><span class="pre">Z</span></code> のような基本型上で <code class="docutils literal notranslate"><span class="pre">==</span></code> をどのように使うかを知っています。ここでは型コンストラクタをどのように扱うか、つまり以下の例がどのように動作するかを示します:</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">forall</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-var">EQ.type</span><span>) (</span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">b</span><span> : </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e</span><span>), (</span><span class="coqdoc-var">a</span><span>, </span><span class="coqdoc-var">b</span><span>) == (</span><span class="coqdoc-var">a</span><span>, </span><span class="coqdoc-var">b</span><span>).</span></dt><dd><span>The command has indeed failed with message:
In environment
e : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
a : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
b : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
The term &quot;</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">(</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">a</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">b</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; has type &quot;(</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> *</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)%type&quot;
while it is expected to have type &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot;.</span></dd>
</dl>
</div>
<p>このエラーメッセージは <span class="smallcaps">Coq</span> がオブジェクトのペアをどのように比較するかについて知らないと言っています。以下の構成は Coq にまさにそれをどのように行うかを教えています。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">pair_eq</span><span> (</span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span> : </span><span class="coqdoc-var">EQ.type</span><span>) (</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e1</span><span> * </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e2</span><span>) :=</span><span>
  </span><span class="coqdoc-var">fst</span><span> </span><span class="coqdoc-var">x</span><span> == </span><span class="coqdoc-var">fst</span><span> </span><span class="coqdoc-var">y</span><span> /\ </span><span class="coqdoc-var">snd</span><span> </span><span class="coqdoc-var">x</span><span> == </span><span class="coqdoc-var">snd</span><span> </span><span class="coqdoc-var">y</span><span>.</span></dt><dd><span>pair_eq is defined</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">pair_EQcl</span><span> </span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span> := </span><span class="coqdoc-var">EQ.Class</span><span> (</span><span class="coqdoc-var">pair_eq</span><span> </span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span>).</span></dt><dd><span>pair_EQcl is defined</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">pair_EQty</span><span> (</span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span> : </span><span class="coqdoc-var">EQ.type</span><span>) : </span><span class="coqdoc-var">EQ.type</span><span> :=</span><span>
    </span><span class="coqdoc-var">EQ.Pack</span><span> (</span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e1</span><span> * </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e2</span><span>) (</span><span class="coqdoc-var">pair_EQcl</span><span> </span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span>).</span></dt><dd><span>pair_EQty is defined</span></dd>
<dt><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">forall</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-var">EQ.type</span><span>) (</span><span class="coqdoc-var">a</span><span> </span><span class="coqdoc-var">b</span><span> : </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e</span><span>), (</span><span class="coqdoc-var">a</span><span>, </span><span class="coqdoc-var">b</span><span>) == (</span><span class="coqdoc-var">a</span><span>, </span><span class="coqdoc-var">b</span><span>).</span></dt><dd><span class="ansi-fg-default ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">forall</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (e : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">) (a b : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">), </span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">(</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">a</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">b</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">(</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">a</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">b</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
     : </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">nat</span><span>, (3, 4) == (</span><span class="coqdoc-var">n</span><span>, </span><span class="coqdoc-var">m</span><span>).</span></dt><dd><span class="ansi-fg-default ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">forall</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> n m : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">, </span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">(</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">3</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 4</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">(</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
     : </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
</dl>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pair_EQty</span></code> 定義のおかげで、<span class="smallcaps">Coq</span> はそのペアの各コンポーネントの比較関数を構築することが出来るときは、いつでもペアのための比較関係を構築することが出来ます。その定義は型コンストラクタ <code class="docutils literal notranslate"><span class="pre">*</span></code> がそれら自身が <code class="docutils literal notranslate"><span class="pre">EQ</span></code> クラスの中にある二つの型に適用されるときは、キーである <code class="docutils literal notranslate"><span class="pre">*</span></code> (ペアの型コンストラクタ) に正準比較関係 <code class="docutils literal notranslate"><span class="pre">pair_eq</span></code> を関連付けます。</p>
</div>
</div>
<div class="section" id="hierarchy-of-structures">
<h2>構造の階層<a class="headerlink" href="#hierarchy-of-structures" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>興味深い例を得るにはもう一つの基本クラスを必要とします。中置 <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> 記法を伴った順序関係を装備した型のクラスを選択します。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Module</span><span> </span><span class="coqdoc-var">LE</span><span>.</span></dt><dd><span>Interactive Module LE started</span></dd>
<dt><span class="coqdoc-keyword">Record</span><span> </span><span class="coqdoc-var">class</span><span> </span><span class="coqdoc-var">T</span><span> := </span><span class="coqdoc-keyword">Class</span><span> { </span><span class="coqdoc-var">cmp</span><span> : </span><span class="coqdoc-var">T</span><span> -&gt; </span><span class="coqdoc-var">T</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span> }.</span></dt><dd><span>class is defined
cmp is defined</span></dd>
<dt><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-keyword">type</span><span> := </span><span class="coqdoc-var">Pack</span><span> { </span><span class="coqdoc-var">obj</span><span> : </span><span class="coqdoc-keyword">Type</span><span>; </span><span class="coqdoc-var">class_of</span><span> : </span><span class="coqdoc-var">class</span><span> </span><span class="coqdoc-var">obj</span><span> }.</span></dt><dd><span>type is defined
obj is defined
class_of is defined</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">op</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-keyword">type</span><span>) : </span><span class="coqdoc-var">obj</span><span> </span><span class="coqdoc-var">e</span><span> -&gt; </span><span class="coqdoc-var">obj</span><span> </span><span class="coqdoc-var">e</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span> :=</span><span>
    </span><span class="coqdoc-keyword">let</span><span> '</span><span class="coqdoc-var">Pack</span><span> </span><span class="coqdoc-var">_</span><span> (</span><span class="coqdoc-keyword">Class</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">f</span><span>) := </span><span class="coqdoc-var">e</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">f</span><span>.</span></dt><dd><span>op is defined</span></dd>
<dt><span class="coqdoc-var">Arguments</span><span> </span><span class="coqdoc-var">op</span><span> {</span><span class="coqdoc-var">_</span><span>} </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-tactic">simpl</span><span> </span><span class="coqdoc-var">never</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-var">Arguments</span><span> </span><span class="coqdoc-keyword">Class</span><span> {</span><span class="coqdoc-var">T</span><span>} </span><span class="coqdoc-var">cmp</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Module</span><span> </span><span class="coqdoc-var">theory</span><span>.</span></dt><dd><span>Interactive Module theory started</span></dd>
<dt><span class="coqdoc-keyword">Notation</span><span> &quot;x &lt;= y&quot; := (</span><span class="coqdoc-var">op</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>) (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 70).</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">End</span><span> </span><span class="coqdoc-var">theory</span><span>.</span></dt><dd><span>Module theory is defined</span></dd>
<dt><span class="coqdoc-keyword">End</span><span> </span><span class="coqdoc-var">LE</span><span>.</span></dt><dd><span>Module LE is defined</span></dd>
</dl>
</div>
<p>これまでのように <code class="docutils literal notranslate"><span class="pre">nat</span></code> のために正準 <code class="docutils literal notranslate"><span class="pre">LE</span></code> クラスを登録します。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">LE.theory</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">nat_le</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> := </span><span class="coqdoc-var">Nat.compare</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> &lt;&gt; </span><span class="coqdoc-var">Gt</span><span>.</span></dt><dd><span>nat_le is defined</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">nat_LEcl</span><span> : </span><span class="coqdoc-var">LE.class</span><span> </span><span class="coqdoc-var">nat</span><span> := </span><span class="coqdoc-var">LE.Class</span><span> </span><span class="coqdoc-var">nat_le</span><span>.</span></dt><dd><span>nat_LEcl is defined</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">nat_LEty</span><span> : </span><span class="coqdoc-var">LE.type</span><span> := </span><span class="coqdoc-var">LE.Pack</span><span> </span><span class="coqdoc-var">nat</span><span> </span><span class="coqdoc-var">nat_LEcl</span><span>.</span></dt><dd><span>nat_LEty is defined</span></dd>
</dl>
</div>
<p>そして <span class="smallcaps">Coq</span> に項のペアを <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> によって関連付けさせます。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">pair_le</span><span> </span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span> (</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-var">LE.obj</span><span> </span><span class="coqdoc-var">e1</span><span> * </span><span class="coqdoc-var">LE.obj</span><span> </span><span class="coqdoc-var">e2</span><span>) :=</span><span>
   </span><span class="coqdoc-var">fst</span><span> </span><span class="coqdoc-var">x</span><span> &lt;= </span><span class="coqdoc-var">fst</span><span> </span><span class="coqdoc-var">y</span><span> /\ </span><span class="coqdoc-var">snd</span><span> </span><span class="coqdoc-var">x</span><span> &lt;= </span><span class="coqdoc-var">snd</span><span> </span><span class="coqdoc-var">y</span><span>.</span></dt><dd><span>pair_le is defined</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">pair_LEcl</span><span> </span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span> := </span><span class="coqdoc-var">LE.Class</span><span> (</span><span class="coqdoc-var">pair_le</span><span> </span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span>).</span></dt><dd><span>pair_LEcl is defined</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">pair_LEty</span><span> (</span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span> : </span><span class="coqdoc-var">LE.type</span><span>) : </span><span class="coqdoc-var">LE.type</span><span> :=</span><span>
   </span><span class="coqdoc-var">LE.Pack</span><span> (</span><span class="coqdoc-var">LE.obj</span><span> </span><span class="coqdoc-var">e1</span><span> * </span><span class="coqdoc-var">LE.obj</span><span> </span><span class="coqdoc-var">e2</span><span>) (</span><span class="coqdoc-var">pair_LEcl</span><span> </span><span class="coqdoc-var">e1</span><span> </span><span class="coqdoc-var">e2</span><span>).</span></dt><dd><span>pair_LEty is defined</span></dd>
<dt><span class="coqdoc-keyword">Check</span><span> (3,4,5) &lt;= (3,4,5).</span></dt><dd><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">(</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">3</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 4</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 5</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">(</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">3</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 4</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">,</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 5</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
     : </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
</dl>
</div>
<p>現段階では我々は自然数の組のような具体型の上で <code class="docutils literal notranslate"><span class="pre">==</span></code> と <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> を使うことができますが、両方の関係を備えた型上の代数的理論を開発することはできません。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Check</span><span> 2 &lt;= 3 /\ 2 == 2.</span></dt><dd><span>2</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 3</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 2</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> 2
     : </span><span class="ansi-fg-yellow ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Prop</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">forall</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-var">EQ.type</span><span>) (</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e</span><span>), </span><span class="coqdoc-var">x</span><span> &lt;= </span><span class="coqdoc-var">y</span><span> -&gt; </span><span class="coqdoc-var">y</span><span> &lt;= </span><span class="coqdoc-var">x</span><span> -&gt; </span><span class="coqdoc-var">x</span><span> == </span><span class="coqdoc-var">y</span><span>.</span></dt><dd><span>The command has indeed failed with message:
In environment
e : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
x : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
y : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
The term &quot;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; has type &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; while it is expected to have type
 &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LE</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot;.</span></dd>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">forall</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-var">LE.type</span><span>) (</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-var">LE.obj</span><span> </span><span class="coqdoc-var">e</span><span>), </span><span class="coqdoc-var">x</span><span> &lt;= </span><span class="coqdoc-var">y</span><span> -&gt; </span><span class="coqdoc-var">y</span><span> &lt;= </span><span class="coqdoc-var">x</span><span> -&gt; </span><span class="coqdoc-var">x</span><span> == </span><span class="coqdoc-var">y</span><span>.</span></dt><dd><span>The command has indeed failed with message:
In environment
e : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LE</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
x : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LE</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
y : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LE</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
The term &quot;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; has type &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LE</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; while it is expected to have type
 &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot;.</span></dd>
</dl>
</div>
<p><code class="docutils literal notranslate"><span class="pre">EQ</span></code> と <code class="docutils literal notranslate"><span class="pre">LE</span></code> の両方から派生した新しいクラスを定義する必要があります。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Module</span><span> </span><span class="coqdoc-var">LEQ</span><span>.</span></dt><dd><span>Interactive Module LEQ started</span></dd>
<dt><span class="coqdoc-keyword">Record</span><span> </span><span class="coqdoc-var">mixin</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-var">EQ.type</span><span>) (</span><span class="coqdoc-var">le</span><span> : </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e</span><span> -&gt; </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e</span><span> -&gt; </span><span class="coqdoc-keyword">Prop</span><span>) :=</span><span>
    </span><span class="coqdoc-var">Mixin</span><span> { </span><span class="coqdoc-var">compat</span><span> : </span><span class="coqdoc-keyword">forall</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e</span><span>, </span><span class="coqdoc-var">le</span><span> </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> /\ </span><span class="coqdoc-var">le</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">x</span><span> &lt;-&gt; </span><span class="coqdoc-var">x</span><span> == </span><span class="coqdoc-var">y</span><span> }.</span></dt><dd><span>mixin is defined
compat is defined</span></dd>
<dt><span class="coqdoc-keyword">Record</span><span> </span><span class="coqdoc-var">class</span><span> </span><span class="coqdoc-var">T</span><span> := </span><span class="coqdoc-keyword">Class</span><span> {</span><span>
                      </span><span class="coqdoc-var">EQ_class</span><span> : </span><span class="coqdoc-var">EQ.class</span><span> </span><span class="coqdoc-var">T</span><span>;</span><span>
                      </span><span class="coqdoc-var">LE_class</span><span> : </span><span class="coqdoc-var">LE.class</span><span> </span><span class="coqdoc-var">T</span><span>;</span><span>
                      </span><span class="coqdoc-var">extra</span><span> : </span><span class="coqdoc-var">mixin</span><span> (</span><span class="coqdoc-var">EQ.Pack</span><span> </span><span class="coqdoc-var">T</span><span> </span><span class="coqdoc-var">EQ_class</span><span>) (</span><span class="coqdoc-var">LE.cmp</span><span> </span><span class="coqdoc-var">T</span><span> </span><span class="coqdoc-var">LE_class</span><span>) }.</span></dt><dd><span>class is defined
EQ_class is defined
LE_class is defined
extra is defined</span></dd>
<dt><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-keyword">type</span><span> := </span><span class="coqdoc-var">_Pack</span><span> { </span><span class="coqdoc-var">obj</span><span> : </span><span class="coqdoc-keyword">Type</span><span>; </span><span class="coqdoc-var">class_of</span><span> : </span><span class="coqdoc-var">class</span><span> </span><span class="coqdoc-var">obj</span><span> }.</span></dt><dd><span>type is defined
obj is defined
class_of is defined</span></dd>
<dt><span class="coqdoc-var">Arguments</span><span> </span><span class="coqdoc-var">Mixin</span><span> {</span><span class="coqdoc-var">e</span><span> </span><span class="coqdoc-var">le</span><span>} </span><span class="coqdoc-var">_</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-var">Arguments</span><span> </span><span class="coqdoc-keyword">Class</span><span> {</span><span class="coqdoc-var">T</span><span>} </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
</dl>
</div>
<p><code class="docutils literal notranslate"><span class="pre">`LEQ`</span></code> クラスの構成部品 mixin は <code class="docutils literal notranslate"><span class="pre">EQ</span></code> と <code class="docutils literal notranslate"><span class="pre">LE</span></code> に追加している特別な内容を全て含んでいます. 特にそれは組み合わせた両立できる二つの要求を含んでいます。</p>
<p>残念ながら未だにこの新しいクラスの代数理論の開発の障害があります。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Module</span><span> </span><span class="coqdoc-var">theory</span><span>.</span></dt><dd><span>Interactive Module theory started</span></dd>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-keyword">forall</span><span> (</span><span class="coqdoc-var">le</span><span> : </span><span class="coqdoc-keyword">type</span><span>) (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">obj</span><span> </span><span class="coqdoc-var">le</span><span>), </span><span class="coqdoc-var">n</span><span> &lt;= </span><span class="coqdoc-var">m</span><span> -&gt; </span><span class="coqdoc-var">n</span><span> &lt;= </span><span class="coqdoc-var">m</span><span> -&gt; </span><span class="coqdoc-var">n</span><span> == </span><span class="coqdoc-var">m</span><span>.</span></dt><dd><span>The command has indeed failed with message:
In environment
le : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
n : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">le</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
m : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">le</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
The term &quot;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; has type &quot;</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">le</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; while it is expected to have type &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LE</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot;.</span></dd>
</dl>
</div>
<p>問題は <code class="docutils literal notranslate"><span class="pre">LE</span></code> と <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> という二つのクラスが未だにサブクラス関係によって関連付いてないことです。言い換えれば、<span class="smallcaps">Coq</span> は <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> クラスのオブジェクトが <code class="docutils literal notranslate"><span class="pre">LE</span></code> クラスのオブジェクトでもあるということが分かりません。</p>
<p>以下の二つの構成は <span class="smallcaps">Coq</span> に <code class="docutils literal notranslate"><span class="pre">LE.type</span></code> と <code class="docutils literal notranslate"><span class="pre">EQ.type</span></code> 構造を同じ型上で与えられた <code class="docutils literal notranslate"><span class="pre">LEQ.type</span></code> 構造からどのように標準的に構築するかを伝えます。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">to_EQ</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-keyword">type</span><span>) : </span><span class="coqdoc-var">EQ.type</span><span> :=</span><span>
   </span><span class="coqdoc-var">EQ.Pack</span><span> (</span><span class="coqdoc-var">obj</span><span> </span><span class="coqdoc-var">e</span><span>) (</span><span class="coqdoc-var">EQ_class</span><span> </span><span class="coqdoc-var">_</span><span> (</span><span class="coqdoc-var">class_of</span><span> </span><span class="coqdoc-var">e</span><span>)).</span></dt><dd><span>to_EQ is defined</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">to_EQ</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">to_LE</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-keyword">type</span><span>) : </span><span class="coqdoc-var">LE.type</span><span> :=</span><span>
   </span><span class="coqdoc-var">LE.Pack</span><span> (</span><span class="coqdoc-var">obj</span><span> </span><span class="coqdoc-var">e</span><span>) (</span><span class="coqdoc-var">LE_class</span><span> </span><span class="coqdoc-var">_</span><span> (</span><span class="coqdoc-var">class_of</span><span> </span><span class="coqdoc-var">e</span><span>)).</span></dt><dd><span>to_LE is defined</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">to_LE</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
</dl>
</div>
<p>我々は今や <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> 構造のオブジェクト上で最初の定理を定式化することが出来ます。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Lemma</span><span> </span><span class="coqdoc-var">lele_eq</span><span> (</span><span class="coqdoc-var">e</span><span> : </span><span class="coqdoc-keyword">type</span><span>) (</span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> : </span><span class="coqdoc-var">obj</span><span> </span><span class="coqdoc-var">e</span><span>) : </span><span class="coqdoc-var">x</span><span> &lt;= </span><span class="coqdoc-var">y</span><span> -&gt; </span><span class="coqdoc-var">y</span><span> &lt;= </span><span class="coqdoc-var">x</span><span> -&gt; </span><span class="coqdoc-var">x</span><span> == </span><span class="coqdoc-var">y</span><span>.</span></dt><dd><span>1 subgoal
  
  e : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  x, y : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  ============================
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">now</span><span> </span><span class="coqdoc-tactic">intros</span><span>; </span><span class="coqdoc-tactic">apply</span><span> (</span><span class="coqdoc-var">compat</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span> (</span><span class="coqdoc-var">extra</span><span> </span><span class="coqdoc-var">_</span><span> (</span><span class="coqdoc-var">class_of</span><span> </span><span class="coqdoc-var">e</span><span>)) </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span>); </span><span class="coqdoc-tactic">split</span><span>.</span></dt><dd><span>No more subgoals.</span></dd>
<dt><span class="coqdoc-keyword">Qed</span><span>.</span></dt><dd><span>lele_eq is defined</span></dd>
<dt><span class="coqdoc-var">Arguments</span><span> </span><span class="coqdoc-var">lele_eq</span><span> {</span><span class="coqdoc-var">e</span><span>} </span><span class="coqdoc-var">x</span><span> </span><span class="coqdoc-var">y</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">End</span><span> </span><span class="coqdoc-var">theory</span><span>.</span></dt><dd><span>Module theory is defined</span></dd>
<dt><span class="coqdoc-keyword">End</span><span> </span><span class="coqdoc-var">LEQ</span><span>.</span></dt><dd><span>Module LEQ is defined</span></dd>
<dt><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">LEQ.theory</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Check</span><span> </span><span class="coqdoc-var">lele_eq</span><span>.</span></dt><dd><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">lele_eq</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
     : </span><span class="ansi-fg-default ansi-bg-default ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">forall</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> x y : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">, </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">x</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">y</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
where
?e : [ |- </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">]</span></dd>
</dl>
</div>
<p>もちろん代数的構造のどんな具体例についても代数的な背景の中で証明された結果を適用したい人もいるでしょう。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Example</span><span> </span><span class="coqdoc-var">test_algebraic</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">nat</span><span>) : </span><span class="coqdoc-var">n</span><span> &lt;= </span><span class="coqdoc-var">m</span><span> -&gt; </span><span class="coqdoc-var">m</span><span> &lt;= </span><span class="coqdoc-var">n</span><span> -&gt; </span><span class="coqdoc-var">n</span><span> == </span><span class="coqdoc-var">m</span><span>.</span></dt><dd><span>1 subgoal
  
  n, m : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  ============================
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-tactic">apply</span><span> (</span><span class="coqdoc-var">lele_eq</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>).</span></dt><dd><span>The command has indeed failed with message:
In environment
n, m : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
The term &quot;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; has type &quot;</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; while it is expected to have type &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot;.</span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Example</span><span> </span><span class="coqdoc-var">test_algebraic2</span><span> (</span><span class="coqdoc-var">l1</span><span> </span><span class="coqdoc-var">l2</span><span> : </span><span class="coqdoc-var">LEQ.type</span><span>) (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">LEQ.obj</span><span> </span><span class="coqdoc-var">l1</span><span> * </span><span class="coqdoc-var">LEQ.obj</span><span> </span><span class="coqdoc-var">l2</span><span>) :</span><span>
     </span><span class="coqdoc-var">n</span><span> &lt;= </span><span class="coqdoc-var">m</span><span> -&gt; </span><span class="coqdoc-var">m</span><span> &lt;= </span><span class="coqdoc-var">n</span><span> -&gt; </span><span class="coqdoc-var">n</span><span> == </span><span class="coqdoc-var">m</span><span>.</span></dt><dd><span>1 subgoal
  
  l1, l2 : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  n, m : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">l1</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> *</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">l2</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  ============================
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-tactic">apply</span><span> (</span><span class="coqdoc-var">lele_eq</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>).</span></dt><dd><span>The command has indeed failed with message:
In environment
l1, l2 : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
n, m : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">l1</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> *</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">l2</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
The term &quot;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; has type &quot;(</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">l1</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> *</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">l2</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)%type&quot;
while it is expected to have type &quot;</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot;.</span></dd>
<dt><span class="coqdoc-keyword">Abort</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
</dl>
</div>
<p>この場合も <span class="smallcaps">Coq</span> に <code class="docutils literal notranslate"><span class="pre">nat</span></code> 型が <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> クラスに属していること、そして型コンストラクタ <code class="docutils literal notranslate"><span class="pre">*</span></code> が <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> クラスとどのように相互作用するのかを伝える必要があります。以下の証明は簡潔さのため省略されています。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Lemma</span><span> </span><span class="coqdoc-var">nat_LEQ_compat</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">nat</span><span>) : </span><span class="coqdoc-var">n</span><span> &lt;= </span><span class="coqdoc-var">m</span><span> /\ </span><span class="coqdoc-var">m</span><span> &lt;= </span><span class="coqdoc-var">n</span><span> &lt;-&gt; </span><span class="coqdoc-var">n</span><span> == </span><span class="coqdoc-var">m</span><span>.</span></dt><dd><span>1 subgoal
  
  n, m : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  ============================
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;-&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">Admitted</span><span>.</span></dt><dd><span>nat_LEQ_compat is declared</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">nat_LEQmx</span><span> := </span><span class="coqdoc-var">LEQ.Mixin</span><span> </span><span class="coqdoc-var">nat_LEQ_compat</span><span>.</span></dt><dd><span>nat_LEQmx is defined</span></dd>
<dt><span class="coqdoc-keyword">Lemma</span><span> </span><span class="coqdoc-var">pair_LEQ_compat</span><span> (</span><span class="coqdoc-var">l1</span><span> </span><span class="coqdoc-var">l2</span><span> : </span><span class="coqdoc-var">LEQ.type</span><span>) (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">LEQ.obj</span><span> </span><span class="coqdoc-var">l1</span><span> * </span><span class="coqdoc-var">LEQ.obj</span><span> </span><span class="coqdoc-var">l2</span><span>) :</span><span>
   </span><span class="coqdoc-var">n</span><span> &lt;= </span><span class="coqdoc-var">m</span><span> /\ </span><span class="coqdoc-var">m</span><span> &lt;= </span><span class="coqdoc-var">n</span><span> &lt;-&gt; </span><span class="coqdoc-var">n</span><span> == </span><span class="coqdoc-var">m</span><span>.</span></dt><dd><span>1 subgoal
  
  l1, l2 : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">type</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  n, m : </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">l1</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> *</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">LEQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">l2</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  ============================
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> /\</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;-&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">Admitted</span><span>.</span></dt><dd><span>pair_LEQ_compat is declared</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">pair_LEQmx</span><span> </span><span class="coqdoc-var">l1</span><span> </span><span class="coqdoc-var">l2</span><span> := </span><span class="coqdoc-var">LEQ.Mixin</span><span> (</span><span class="coqdoc-var">pair_LEQ_compat</span><span> </span><span class="coqdoc-var">l1</span><span> </span><span class="coqdoc-var">l2</span><span>).</span></dt><dd><span>pair_LEQmx is defined</span></dd>
</dl>
</div>
<p>以下のスクリプトは <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> クラスに <code class="docutils literal notranslate"><span class="pre">nat</span></code> と型コンストラクタ <code class="docutils literal notranslate"><span class="pre">*</span></code> を登録します。それらが期待通りに動作することをテストもします。</p>
<p>残念ながらこれらの定義は非常に冗長です。続く項ではそれらをどのようによりコンパクトにするかを示します。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Module</span><span> </span><span class="coqdoc-var">Add_instance_attempt</span><span>.</span></dt><dd><span>Interactive Module Add_instance_attempt started</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">nat_LEQty</span><span> : </span><span class="coqdoc-var">LEQ.type</span><span> :=</span><span>
    </span><span class="coqdoc-var">LEQ._Pack</span><span> </span><span class="coqdoc-var">nat</span><span> (</span><span class="coqdoc-var">LEQ.Class</span><span> </span><span class="coqdoc-var">nat_EQcl</span><span> </span><span class="coqdoc-var">nat_LEcl</span><span> </span><span class="coqdoc-var">nat_LEQmx</span><span>).</span></dt><dd><span>nat_LEQty is defined</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">pair_LEQty</span><span> (</span><span class="coqdoc-var">l1</span><span> </span><span class="coqdoc-var">l2</span><span> : </span><span class="coqdoc-var">LEQ.type</span><span>) : </span><span class="coqdoc-var">LEQ.type</span><span> :=</span><span>
    </span><span class="coqdoc-var">LEQ._Pack</span><span> (</span><span class="coqdoc-var">LEQ.obj</span><span> </span><span class="coqdoc-var">l1</span><span> * </span><span class="coqdoc-var">LEQ.obj</span><span> </span><span class="coqdoc-var">l2</span><span>)</span><span>
      (</span><span class="coqdoc-var">LEQ.Class</span><span>
         (</span><span class="coqdoc-var">EQ.class_of</span><span> (</span><span class="coqdoc-var">pair_EQty</span><span> (</span><span class="coqdoc-var">to_EQ</span><span> </span><span class="coqdoc-var">l1</span><span>) (</span><span class="coqdoc-var">to_EQ</span><span> </span><span class="coqdoc-var">l2</span><span>)))</span><span>
         (</span><span class="coqdoc-var">LE.class_of</span><span> (</span><span class="coqdoc-var">pair_LEty</span><span> (</span><span class="coqdoc-var">to_LE</span><span> </span><span class="coqdoc-var">l1</span><span>) (</span><span class="coqdoc-var">to_LE</span><span> </span><span class="coqdoc-var">l2</span><span>)))</span><span>
         (</span><span class="coqdoc-var">pair_LEQmx</span><span> </span><span class="coqdoc-var">l1</span><span> </span><span class="coqdoc-var">l2</span><span>)).</span></dt><dd><span>pair_LEQty is defined
Toplevel input, characters 0-264:
&gt; Canonical Structure pair_LEQty (l1 l2 : LEQ.type) : LEQ.type :=     LEQ._Pack (LEQ.obj l1 * LEQ.obj l2)       (LEQ.Class          (EQ.class_of (pair_EQty (to_EQ l1) (to_EQ l2)))          (LE.class_of (pair_LEty (to_LE l1) (to_LE l2)))          (pair_LEQmx l1 l2)).
&gt; ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
</span><span class="ansi-fg-white ansi-bg-yellow ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Warning:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> Ignoring canonical projection to LEQ.Class by LEQ.class_of in
</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">pair_LEQty</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">: redundant with </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat_LEQty</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-keyword">Example</span><span> </span><span class="coqdoc-var">test_algebraic</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">nat</span><span>) : </span><span class="coqdoc-var">n</span><span> &lt;= </span><span class="coqdoc-var">m</span><span> -&gt; </span><span class="coqdoc-var">m</span><span> &lt;= </span><span class="coqdoc-var">n</span><span> -&gt; </span><span class="coqdoc-var">n</span><span> == </span><span class="coqdoc-var">m</span><span>.</span></dt><dd><span>1 subgoal
  
  n, m : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  ============================
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">now</span><span> </span><span class="coqdoc-tactic">apply</span><span> (</span><span class="coqdoc-var">lele_eq</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>).</span></dt><dd><span>No more subgoals.</span></dd>
<dt><span class="coqdoc-keyword">Qed</span><span>.</span></dt><dd><span>test_algebraic is defined</span></dd>
<dt><span class="coqdoc-keyword">Example</span><span> </span><span class="coqdoc-var">test_algebraic2</span><span> (</span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span> : </span><span class="coqdoc-var">nat</span><span> * </span><span class="coqdoc-var">nat</span><span>) : </span><span class="coqdoc-var">n</span><span> &lt;= </span><span class="coqdoc-var">m</span><span> -&gt; </span><span class="coqdoc-var">m</span><span> &lt;= </span><span class="coqdoc-var">n</span><span> -&gt; </span><span class="coqdoc-var">n</span><span> == </span><span class="coqdoc-var">m</span><span>.</span></dt><dd><span>1 subgoal
  
  n, m : </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> *</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">
  ============================
  </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> &lt;=</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">n</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> ==</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">m</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
<dt><span class="coqdoc-var">now</span><span> </span><span class="coqdoc-tactic">apply</span><span> (</span><span class="coqdoc-var">lele_eq</span><span> </span><span class="coqdoc-var">n</span><span> </span><span class="coqdoc-var">m</span><span>).</span></dt><dd><span>No more subgoals.</span></dd>
<dt><span class="coqdoc-keyword">Qed</span><span>.</span></dt><dd><span>test_algebraic2 is defined</span></dd>
<dt><span class="coqdoc-keyword">End</span><span> </span><span class="coqdoc-var">Add_instance_attempt</span><span>.</span></dt><dd><span>Module Add_instance_attempt is defined</span></dd>
</dl>
</div>
<p>注目すべきは <code class="docutils literal notranslate"><span class="pre">nat</span> <span class="pre">*</span> <span class="pre">nat</span></code> 型の <code class="docutils literal notranslate"><span class="pre">n</span></code> と m についての <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;=</span> <span class="pre">m</span> <span class="pre">-&gt;</span> <span class="pre">m</span> <span class="pre">&lt;=</span> <span class="pre">n</span> <span class="pre">-&gt;</span> <span class="pre">n</span> <span class="pre">==</span> <span class="pre">m</span></code> の直接の証明はユーザから提供されていないことです。ユーザが提供したものは <code class="docutils literal notranslate"><span class="pre">n</span></code> と <code class="docutils literal notranslate"><span class="pre">m</span></code> の型 <code class="docutils literal notranslate"><span class="pre">nat</span></code> についてのこのステートメントの証明とペアコンストラクタがこの性質を保存するという証明です。これら二つの事実の組み合わせは正準構造を推論している間、<span class="smallcaps">Coq</span> が自動的に行う証明探索の単純な形です。</p>
<div class="section" id="compact-declaration-of-canonical-structures">
<h3>正準構造のコンパクトな定義<a class="headerlink" href="#compact-declaration-of-canonical-structures" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>いくらかの基盤が必要です。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Require</span><span> </span><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">Strings.String</span><span>.</span></dt><dd><span>[Loading ML file z_syntax_plugin.cmxs ... done]
[Loading ML file quote_plugin.cmxs ... done]
[Loading ML file newring_plugin.cmxs ... done]
[Loading ML file ascii_syntax_plugin.cmxs ... done]
[Loading ML file string_syntax_plugin.cmxs ... done]</span></dd>
<dt><span class="coqdoc-keyword">Module</span><span> </span><span class="coqdoc-var">infrastructure</span><span>.</span></dt><dd><span>Interactive Module infrastructure started</span></dd>
<dt><span class="coqdoc-keyword">Inductive</span><span> </span><span class="coqdoc-var">phantom</span><span> {</span><span class="coqdoc-var">T</span><span> : </span><span class="coqdoc-keyword">Type</span><span>} (</span><span class="coqdoc-var">t</span><span> : </span><span class="coqdoc-var">T</span><span>) : </span><span class="coqdoc-keyword">Type</span><span> := </span><span class="coqdoc-var">Phantom</span><span>.</span></dt><dd><span>phantom is defined
phantom_rect is defined
phantom_ind is defined
phantom_rec is defined</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">unify</span><span> {</span><span class="coqdoc-var">T1</span><span> </span><span class="coqdoc-var">T2</span><span>} (</span><span class="coqdoc-var">t1</span><span> : </span><span class="coqdoc-var">T1</span><span>) (</span><span class="coqdoc-var">t2</span><span> : </span><span class="coqdoc-var">T2</span><span>) (</span><span class="coqdoc-var">s</span><span> : </span><span class="coqdoc-var">option</span><span> </span><span class="coqdoc-var">string</span><span>) :=</span><span>
    </span><span class="coqdoc-var">phantom</span><span> </span><span class="coqdoc-var">t1</span><span> -&gt; </span><span class="coqdoc-var">phantom</span><span> </span><span class="coqdoc-var">t2</span><span>.</span></dt><dd><span>unify is defined</span></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">id</span><span> {</span><span class="coqdoc-var">T</span><span>} {</span><span class="coqdoc-var">t</span><span> : </span><span class="coqdoc-var">T</span><span>} (</span><span class="coqdoc-var">x</span><span> : </span><span class="coqdoc-var">phantom</span><span> </span><span class="coqdoc-var">t</span><span>) := </span><span class="coqdoc-var">x</span><span>.</span></dt><dd><span>id is defined</span></dd>
<dt><span class="coqdoc-keyword">Notation</span><span> &quot;[find v | t1 ~ t2 ] p&quot; := (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">v</span><span> (</span><span class="coqdoc-var">_</span><span> : </span><span class="coqdoc-var">unify</span><span> </span><span class="coqdoc-var">t1</span><span> </span><span class="coqdoc-var">t2</span><span> </span><span class="coqdoc-var">None</span><span>) =&gt; </span><span class="coqdoc-var">p</span><span>)</span><span>
    (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 50, </span><span class="coqdoc-var">v</span><span> </span><span class="coqdoc-var">ident</span><span>, </span><span class="coqdoc-var">only</span><span> </span><span class="coqdoc-var">parsing</span><span>).</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Notation</span><span> &quot;[find v | t1 ~ t2 | s ] p&quot; := (</span><span class="coqdoc-keyword">fun</span><span> </span><span class="coqdoc-var">v</span><span> (</span><span class="coqdoc-var">_</span><span> : </span><span class="coqdoc-var">unify</span><span> </span><span class="coqdoc-var">t1</span><span> </span><span class="coqdoc-var">t2</span><span> (</span><span class="coqdoc-var">Some</span><span> </span><span class="coqdoc-var">s</span><span>)) =&gt; </span><span class="coqdoc-var">p</span><span>)</span><span>
    (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 50, </span><span class="coqdoc-var">v</span><span> </span><span class="coqdoc-var">ident</span><span>, </span><span class="coqdoc-var">only</span><span> </span><span class="coqdoc-var">parsing</span><span>).</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Notation</span><span> &quot;'Error : t : s&quot; := (</span><span class="coqdoc-var">unify</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">t</span><span> (</span><span class="coqdoc-var">Some</span><span> </span><span class="coqdoc-var">s</span><span>))</span><span>
    (</span><span class="coqdoc-tactic">at</span><span> </span><span class="coqdoc-keyword">level</span><span> 50, </span><span class="coqdoc-var">format</span><span> &quot;''Error' : t : s&quot;).</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Open</span><span> </span><span class="coqdoc-keyword">Scope</span><span> </span><span class="coqdoc-var">string_scope</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">End</span><span> </span><span class="coqdoc-var">infrastructure</span><span>.</span></dt><dd><span>Module infrastructure is defined</span></dd>
</dl>
</div>
<p>記法 <code class="docutils literal notranslate"><span class="pre">[find</span> <span class="pre">v</span> <span class="pre">|</span> <span class="pre">t1</span> <span class="pre">~</span> <span class="pre">t2]</span></code> を説明するため、具体例の一つ <code class="docutils literal notranslate"><span class="pre">[find</span> <span class="pre">e</span> <span class="pre">|</span> <span class="pre">EQ.obj</span> <span class="pre">e</span> <span class="pre">~</span> <span class="pre">T</span> <span class="pre">|</span> <span class="pre">&quot;is</span> <span class="pre">not</span> <span class="pre">an</span> <span class="pre">EQ.type&quot;</span> <span class="pre">]</span></code> を取り上げます。これは以下のように読めます: “あるクラス e を見つける。そのオブジェクトは型 T を持ち、そうでない場合は &quot;T is not an EQ.type&quot; というメッセージとともに失敗する”。</p>
<p>他のユーティリティは <span class="smallcaps">Coq</span> に正準構造の推論を必要とすることになるであろう特定的な単一化問題を解くように要求するのに使われます。それらは <a class="bibtex reference internal" href="../zebibliography.html#cswcu" id="id3">[MT13]</a> の中でより詳細に説明されています。</p>
<p>今や我々は <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> クラスのインスタンスを定義するためのコンパクトな &quot;荷造り業者&quot; を作るために必要なものを全て持っています。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Import</span><span> </span><span class="coqdoc-var">infrastructure</span><span>.</span></dt><dd class="coqtop-hidden"></dd>
<dt><span class="coqdoc-keyword">Definition</span><span> </span><span class="coqdoc-var">packager</span><span> </span><span class="coqdoc-var">T</span><span> </span><span class="coqdoc-var">e0</span><span> </span><span class="coqdoc-var">le0</span><span> (</span><span class="coqdoc-var">m0</span><span> : </span><span class="coqdoc-var">LEQ.mixin</span><span> </span><span class="coqdoc-var">e0</span><span> </span><span class="coqdoc-var">le0</span><span>) :=</span><span>
  [</span><span class="coqdoc-var">find</span><span> </span><span class="coqdoc-var">e</span><span> | </span><span class="coqdoc-var">EQ.obj</span><span> </span><span class="coqdoc-var">e</span><span> ~ </span><span class="coqdoc-var">T</span><span> | &quot;is not an EQ.type&quot; ]</span><span>
  [</span><span class="coqdoc-var">find</span><span> </span><span class="coqdoc-var">o</span><span> | </span><span class="coqdoc-var">LE.obj</span><span> </span><span class="coqdoc-var">o</span><span> ~ </span><span class="coqdoc-var">T</span><span> | &quot;is not an LE.type&quot; ]</span><span>
  [</span><span class="coqdoc-var">find</span><span> </span><span class="coqdoc-var">ce</span><span> | </span><span class="coqdoc-var">EQ.class_of</span><span> </span><span class="coqdoc-var">e</span><span> ~ </span><span class="coqdoc-var">ce</span><span> ]</span><span>
  [</span><span class="coqdoc-var">find</span><span> </span><span class="coqdoc-var">co</span><span> | </span><span class="coqdoc-var">LE.class_of</span><span> </span><span class="coqdoc-var">o</span><span> ~ </span><span class="coqdoc-var">co</span><span> ]</span><span>
  [</span><span class="coqdoc-var">find</span><span> </span><span class="coqdoc-var">m</span><span> | </span><span class="coqdoc-var">m</span><span> ~ </span><span class="coqdoc-var">m0</span><span> | &quot;is not the right mixin&quot; ]</span><span>
  </span><span class="coqdoc-var">LEQ._Pack</span><span> </span><span class="coqdoc-var">T</span><span> (</span><span class="coqdoc-var">LEQ.Class</span><span> </span><span class="coqdoc-var">ce</span><span> </span><span class="coqdoc-var">co</span><span> </span><span class="coqdoc-var">m</span><span>).</span></dt><dd><span>packager is defined</span></dd>
<dt><span class="coqdoc-keyword">Notation</span><span> </span><span class="coqdoc-var">Pack</span><span> </span><span class="coqdoc-var">T</span><span> </span><span class="coqdoc-var">m</span><span> := (</span><span class="coqdoc-var">packager</span><span> </span><span class="coqdoc-var">T</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">m</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">id</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">id</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">id</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">id</span><span> </span><span class="coqdoc-var">_</span><span> </span><span class="coqdoc-var">id</span><span>).</span></dt><dd class="coqtop-hidden"></dd>
</dl>
</div>
<p>オブジェクト <code class="docutils literal notranslate"><span class="pre">Pack</span></code> は型 <code class="docutils literal notranslate"><span class="pre">T</span></code> (キー) と mixin <code class="docutils literal notranslate"><span class="pre">m</span></code> を取ります。それは <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> クラスの他の全ての部分を推論し、キーとなる <code class="docutils literal notranslate"><span class="pre">T</span></code> に関連付けられた正準値としてそれらを定義します。結局のところ、我々が <code class="docutils literal notranslate"><span class="pre">LEQ</span></code> クラスに新たに追加した情報の断片は mixin だけであり、残りの全ては既に <code class="docutils literal notranslate"><span class="pre">T</span></code> について正準であり、従って <span class="smallcaps">Coq</span> により推論することが出来ます。</p>
<p><code class="docutils literal notranslate"><span class="pre">Pack</span></code> は記法であり、従ってその定義時点では型検査されません。それが使われ、<code class="docutils literal notranslate"><span class="pre">T</span></code> が具体型になるときに型検査されます。packager に渡した奇妙な引数 <code class="docutils literal notranslate"><span class="pre">_</span></code> と <code class="docutils literal notranslate"><span class="pre">id</span></code> はそれぞれ推論されるべきクラス (<code class="docutils literal notranslate"><span class="pre">e</span></code> や <code class="docutils literal notranslate"><span class="pre">o</span></code> その他) とそれらの推論を強制するためのトークン (<code class="docutils literal notranslate"><span class="pre">id</span></code>) を表します。繰り替えしますが、全ての詳細について <a class="bibtex reference internal" href="../zebibliography.html#cswcu" id="id4">[MT13]</a> が読者の参考になります。</p>
<p>正準インスタンスの定義は今やよりコンパクトになりえます。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">nat_LEQty</span><span> := </span><span class="coqdoc-keyword">Eval</span><span> </span><span class="coqdoc-tactic">hnf</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">Pack</span><span> </span><span class="coqdoc-var">nat</span><span> </span><span class="coqdoc-var">nat_LEQmx</span><span>.</span></dt><dd><span>nat_LEQty is defined</span></dd>
<dt><span class="coqdoc-keyword">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">pair_LEQty</span><span> (</span><span class="coqdoc-var">l1</span><span> </span><span class="coqdoc-var">l2</span><span> : </span><span class="coqdoc-var">LEQ.type</span><span>) :=</span><span>
   </span><span class="coqdoc-keyword">Eval</span><span> </span><span class="coqdoc-tactic">hnf</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">Pack</span><span> (</span><span class="coqdoc-var">LEQ.obj</span><span> </span><span class="coqdoc-var">l1</span><span> * </span><span class="coqdoc-var">LEQ.obj</span><span> </span><span class="coqdoc-var">l2</span><span>) (</span><span class="coqdoc-var">pair_LEQmx</span><span> </span><span class="coqdoc-var">l1</span><span> </span><span class="coqdoc-var">l2</span><span>).</span></dt><dd><span>pair_LEQty is defined
Toplevel input, characters 0-118:
&gt; Canonical Structure pair_LEQty (l1 l2 : LEQ.type) :=    Eval hnf in Pack (LEQ.obj l1 * LEQ.obj l2) (pair_LEQmx l1 l2).
&gt; ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
</span><span class="ansi-fg-white ansi-bg-yellow ansi-bold ansi-no-italic ansi-no-underline ansi-no-negative">Warning:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> Ignoring canonical projection to LEQ.Class by LEQ.class_of in
</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">pair_LEQty</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">: redundant with </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">nat_LEQty</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span></dd>
</dl>
</div>
<p>エラーメッセージも非常に理解しやすいです (メッセージの末尾まで飛ばすなら)。</p>
<div class="coqtop literal-block docutils container">
<span></span><dl>
<dt><span class="coqdoc-var">Fail</span><span> </span><span class="coqdoc-var">Canonical</span><span> </span><span class="coqdoc-keyword">Structure</span><span> </span><span class="coqdoc-var">err</span><span> := </span><span class="coqdoc-keyword">Eval</span><span> </span><span class="coqdoc-tactic">hnf</span><span> </span><span class="coqdoc-tactic">in</span><span> </span><span class="coqdoc-var">Pack</span><span> </span><span class="coqdoc-var">bool</span><span> </span><span class="coqdoc-var">nat_LEQmx</span><span>.</span></dt><dd><span>The command has indeed failed with message:
The term &quot;</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">id</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot; has type &quot;</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">phantom</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> -&gt;</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">phantom</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> (</span><span class="ansi-fg-light-magenta ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">EQ</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">.</span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">obj</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"> </span><span class="ansi-fg-light-blue ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">?e</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">)&quot;
while it is expected to have type &quot;</span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">'Error</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-light-green ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">bool</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative"></span><span class="ansi-fg-white ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">:</span><span class="ansi-fg-default ansi-bg-default ansi-no-bold ansi-no-italic ansi-no-underline ansi-no-negative">&quot;is not an EQ.type&quot;&quot;.</span></dd>
</dl>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="type-classes.html" class="btn btn-neutral float-right" title="型クラス" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="implicit-coercions.html" class="btn btn-neutral float-left" title="Implicit Coercions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1999-2018, Inria

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>